$v-overlay-border-radius: $v-border-radius !default;
$v-overlay-border-width: $v-border-width !default;
$v-overlay-open-animation: v-valo-overlay-open 200ms !default;

$v-overlay-padding: round($v-unit-size/9) !default;
$v-overlay-padding-vertical: $v-overlay-padding !default;
$v-overlay-padding-horizontal: $v-overlay-padding !default;

$v-selection-overlay-padding: $v-overlay-padding !default;
$v-selection-overlay-padding-vertical: $v-selection-overlay-padding !default;
$v-selection-overlay-padding-horizontal: $v-selection-overlay-padding !default;

$v-selection-item-border-radius: $v-border-radius - 1px !default;
$v-selection-item-height: ceil($v-unit-size/1.4) !default;
$v-selection-item-padding-horizontal: ceil($v-unit-size/4) !default;


// Not needed in modern browsers. Reconsider for IE8
.v-shadow,
.v-shadow-window {
	display: none;
}



@function v-valo-overlay-background-color ($context: $v-app-background-color) {
	@return v-valo-textfield-background-color($context);
}



@function v-valo-overlay-box-shadow ($bg) {
	@return 0 2px 4px 0 rgba(0,0,0, $v-shadow-depth/50%), 
					0 0 0 $v-overlay-border-width rgba(darken($bg, $v-bevel-depth), $v-bevel-depth/100%), 
					0 3px 5px 0 rgba(0,0,0, $v-shadow-depth/100%)
}



@mixin v-valo-overlay-style ($background-color: null, $open-animation: $v-overlay-open-animation) {
	padding: $v-overlay-padding-vertical $v-overlay-padding-horizontal;
	border-radius: $v-overlay-border-radius;
  
  $bg: $background-color or v-valo-overlay-background-color();
  background: $bg;
  color: v-valo-font-color($bg);

	box-shadow:	v-valo-overlay-box-shadow($bg);

	@if $v-animations-enabled and $v-overlay-open-animation {
		@include animation($open-animation);
	}
    
  -webkit-backface-visibility: hidden;
  -moz-backface-visibility: hidden;
  -ms-backface-visibility: hidden;
  backface-visibility: hidden;
}



@if $v-animations-enabled {
	@include keyframes(v-valo-overlay-open) {
		0% {
			@include transform(translatey(-3px));
			opacity: 0;
		}
	}
}






@mixin v-valo-selection-overlay-style ($background-color: null, $open-animation: $v-overlay-open-animation) {
	@include v-valo-overlay-style($background-color: $background-color, $open-animation: $open-animation);
	padding: $v-selection-overlay-padding-vertical $v-selection-overlay-padding-horizontal;
}




@mixin v-valo-selection-item-style {
	cursor: pointer;
	line-height: $v-selection-item-height;
	padding: 0 $v-selection-item-padding-horizontal*2 0 $v-selection-item-padding-horizontal;
	@if $v-selection-item-border-radius > 0 {
		border-radius: $v-selection-item-border-radius;
	}
	font-weight: $v-font-weight + 100;

	position: relative;
	&:active:before {
		content: "";
		position: absolute;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		background: #000;
		@include opacity(.1);
		pointer-events: none;
		border-radius: inherit;
	}

  .v-icon {
    max-height: $v-selection-item-height;
    margin-right: round($v-selection-item-padding-horizontal/2);
  }
}




@mixin v-valo-selection-item-selected-style ($parent-background-color: null) {
	$selection-color: v-valo-selection-color($parent-background-color);
	@include v-valo-gradient($selection-color);
	color: v-valo-font-color($selection-color);
}








@mixin v-valo-drag-element {
	.v-drag-element {
		@include v-valo-drag-element-style;
	}
}

@mixin v-valo-drag-element-style {
	background: #fff;
	box-shadow: 0 2px 10px rgba(#000, .2);
	border-radius: $v-border-radius;
	overflow: hidden;
	@include opacity(.5);
}