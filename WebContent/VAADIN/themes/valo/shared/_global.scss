@import "loading-indicator";
@import "contextmenu";
@import "overlay";
@import "notification";
@import "tooltip";


$v-app-loading-text: "" !default;

$v-valo-shared-pathPrefix: null;
  
@if $relativePaths == false {
  $v-valo-shared-pathPrefix: "../valo/shared/";
}


@mixin v-valo-app-style {
  font: $v-font-weight #{$v-font-size}/#{$v-line-height} $v-font-family;
  color: $v-font-color;
  background-color: $v-app-background-color;
  cursor: default;
  
  // Use Helvetica Neue for Mac instead of Helvetica, which has a slightly different baseline
  @if $v-font-family == sans-serif {
  	.v-mac & {
        font-family: "Helvetica Neue", sans-serif;
  	}
  }
}


@mixin v-valo-global {
  
  //@if & != null {
  //  &,
  //  &.v-app-loading {
  //    @include v-valo-app-style;
  //  }
  //} @else {
    &.v-app,
    &.v-app-loading {
      @include v-valo-app-style;
    }
  //}

  //&.v-overlay-container {
  //  position: absolute;
  //  top: 0;
  //}

  .v-app-loading {
    width: 100%;
    height: 100%;
    background: $v-app-background-color;

    $_size: 28px + round($v-unit-size/2);

    &:before {
      content: "";
      position: fixed;
      z-index: 100;
      top: 45%;
      left: 50%;
      width: 28px;
      height: 28px;
      padding: round($v-unit-size/4);
      margin-top: round($_size/-2);
      margin-left: round($_size/-2);
      background: #fff url($v-valo-shared-pathPrefix + "img/spinner.gif") no-repeat 50%;
      border-radius: $v-border-radius;
    }

    @if $v-app-loading-text != "" {
      &:after {
        position: fixed;
        z-index: 100;
        top: 45%;
        padding-top: $_size;
        text-align: center;
        left: 0;
        right: 0;
        content: $v-app-loading-text;
      }
    }
  }
  
  @include v-valo-loading-bar;


  // Fallback spinner for browsers without CSS animations
  .v-ie8 &,
  .v-ie9 & {
    .v-loading-indicator,
    .v-loading-indicator-delay,
    .v-loading-indicator-wait {
      width: 28px !important;
      height: 28px;
      padding: round($v-unit-size/4);
      background: #fff url($v-valo-shared-pathPrefix + "img/spinner.gif") no-repeat 50%;
      border-radius: $v-border-radius;
      top: round($v-unit-size/4);
      right: round($v-unit-size/4);
      left: auto;
      filter: alpha(opacity=50);

      &[style*="none"] {
        display: none !important;
      }
    }

    .v-loading-indicator-wait{
      filter: alpha(opacity=100);
    }
  }
  
  .v-scrollable:focus {
    outline: none;
  }
  
  //.v-captiontext,
  //.v-errorindicator,
  //.v-required-field-indicator,
  img.v-icon {
    vertical-align: middle;
  }
  
  %v-caption,
  .v-caption {
    font-size: $v-caption-font-size;
    font-weight: $v-caption-font-weight;
    padding-bottom: .3em;
    @if $v-border-radius > 0 {
      padding-left: round($v-border-radius/4);
    }
  }

  .v-icon + .v-captiontext,
  .v-icon + span {
    margin-left: round($v-unit-size/5);
  }
  
  .v-errorindicator {
    color: $v-error-indicator-color;
    font-weight: 600;
    width: ceil($v-unit-size/2);
    border-radius: 50%;
    text-align: center;
    
    &:before {
      content: "!";
    }
  }

  .v-required-field-indicator {
    color: $v-required-field-indicator-color;
    padding: 0 .2em;
  }

  select {
    font: inherit;
    font-weight: 400;
    line-height: inherit;
    color: inherit;
    padding: round($v-unit-size/8);
    margin: 0;
    border-radius: $v-border-radius;

    @include v-valo-nativeselect-select-style;
  }

  button {
    font: inherit;
    font-weight: 400;
    line-height: inherit;
  }

  .v-disabled {
    cursor: default !important;
  }

  @include v-valo-drag-element;

  @include v-valo-tooltip;

  @include v-valo-contextmenu;

}
